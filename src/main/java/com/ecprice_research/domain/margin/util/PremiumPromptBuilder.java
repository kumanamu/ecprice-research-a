package com.ecprice_research.domain.margin.util;

import com.ecprice_research.domain.margin.dto.MarginCompareResult;
import com.ecprice_research.domain.margin.dto.PriceInfo;

public class PremiumPromptBuilder {

    public static String build(MarginCompareResult r) {

        StringBuilder sb = new StringBuilder();

        sb.append("ë‹¤ìŒì€ ECPriceResearchì˜ í”„ë¦¬ë¯¸ì—„ ë¶„ì„ ìš”ì²­ì…ë‹ˆë‹¤.\n");
        sb.append("ë§¤ìš° ì •êµí•˜ê³ , ìˆ˜ì¹˜ ê¸°ë°˜ì´ë©°, ì‹¤ì „ ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ ë³´ê³ ì„œì²˜ëŸ¼ ì‘ì„±í•˜ì‹­ì‹œì˜¤.\n");
        sb.append("ì£¼ì–´ì§„ ê°€ê²© ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ â€˜êµ­ê°€ë³„ íŒë§¤ ë§ˆì§„â€™ì„ ê³„ì‚°í•˜ê³  ìµœì ì˜ ì „ëµì„ ë„ì¶œí•˜ì„¸ìš”.\n\n");

        sb.append("ê²€ìƒ‰ì–´: ").append(r.getKeyword()).append("\n");
        sb.append("í™˜ìœ¨: 1 JPY = ").append(r.getJpyToKrw()).append(" KRW\n\n");

        sb.append("ğŸ“¦ í”Œë«í¼ë³„ ê°€ê²© ë°ì´í„°\n");
        r.getPlatformPrices().forEach((p, info) -> {
            sb.append("- ").append(p).append(":\n");
            sb.append("  KRW: ").append(info.getPriceKrw()).append("\n");
            sb.append("  JPY: ").append(info.getPriceJpy()).append("\n");
        });
        sb.append("\n");

        sb.append("â€» ë°˜ë“œì‹œ ì•„ë˜ì˜ â€˜ê³„ì‚° ê¸°ì¤€â€™ì„ ì‚¬ìš©í•´ ì‹¤ì „ ë§ˆì§„ì„ ê³„ì‚°í•˜ì‹­ì‹œì˜¤.\n\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸ“ [í•„ìˆ˜] êµ­ê°€ë³„ ë§ˆì§„ ê³„ì‚° ê¸°ì¤€ (ì •í™•í•˜ê²Œ ì´ ê³µì‹ì„ ì‚¬ìš©)\n");
        sb.append("1) í•œêµ­ â†’ ì¼ë³¸ íŒë§¤ ì‹œ ë¹„ìš© ê³µì‹\n");
        sb.append("   - êµ­ì œë°°ì†¡ë¹„(EMS or Yamato í‰ê· ): 18,000 ~ 28,000 KRW\n");
        sb.append("   - ì¼ë³¸ í†µê´€ ì†Œë¹„ì„¸: ìƒí’ˆê°€(JPY)ì˜ 10%\n");
        sb.append("   - í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ(ë©”ë£¨ì¹´ë¦¬): íŒë§¤ê°€ì˜ 10%\n");
        sb.append("   - ìµœì¢… ìˆœì´ìµ = íŒë§¤ê°€(JPY) - ì†Œë¹„ì„¸ - ìˆ˜ìˆ˜ë£Œ - êµ­ì œë°°ì†¡ë¹„(í™˜ì‚° JPY)\n\n");

        sb.append("2) ì¼ë³¸ â†’ í•œêµ­ íŒë§¤ ì‹œ ë¹„ìš© ê³µì‹\n");
        sb.append("   - êµ­ì œë°°ì†¡ë¹„: 1,500 ~ 2,800 JPY\n");
        sb.append("   - í•œêµ­ ê´€ë¶€ê°€ì„¸: 150,000 KRW ì´ˆê³¼ ì‹œ 10% ë¶€ê°€ì„¸\n");
        sb.append("   - êµ­ë‚´ ë°°ì†¡ë¹„: 3,000 KRW\n");
        sb.append("   - ìµœì¢… ìˆœì´ìµ = íŒë§¤ê°€(KRW) - ë¶€ê°€ì„¸ - êµ­ë‚´ë°°ì†¡ë¹„ - êµ­ì œë°°ì†¡ë¹„(í™˜ì‚° KRW)\n\n");

        sb.append("3) ë™ì¼ êµ­ê°€ ë‚´ íŒë§¤ (JPâ†’JP / KRâ†’KR)\n");
        sb.append("   - ë°°ì†¡ë¹„: ì¼ë³¸ 700~900ì—” / í•œêµ­ 3,000ì›\n");
        sb.append("   - í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ: 7% ~ 10%\n");
        sb.append("   - ìµœì¢… ìˆœì´ìµ = íŒë§¤ê°€ - ìˆ˜ìˆ˜ë£Œ - ë°°ì†¡ë¹„\n\n");

        sb.append("â€» ìœ„ì˜ ê³µì‹ì— ë”°ë¼ êµ­ê°€ë³„ ìˆœì´ìµì„ ì •ëŸ‰ì ìœ¼ë¡œ ê³„ì‚°í•˜ë¼.\n");
        sb.append("â€» ë°˜ë“œì‹œ ê³„ì‚° ê²°ê³¼ë¥¼ í‘œë¡œ ì •ë¦¬í•˜ë¼.\n");
        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n");

        sb.append("ğŸ§© ë¶„ì„ ë³´ê³ ì„œ êµ¬ì„±ì€ ì•„ë˜ í˜•ì‹ì„ ê·¸ëŒ€ë¡œ ë”°ë¼ ì‘ì„±\n\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸ“˜ 1) EXECUTIVE SUMMARY (ìš”ì•½)\n");
        sb.append("- í•µì‹¬ ê²°ë¡ \n");
        sb.append("- ìµœì €ê°€ í”Œë«í¼\n");
        sb.append("- ì–´ë–¤ êµ­ê°€ë¡œ íŒë§¤í•  ë•Œ ê°€ì¥ ë†’ì€ ìˆœì´ìµì´ ë°œìƒí•˜ëŠ”ì§€\n");
        sb.append("- ì¶”ì²œ íŒë§¤ êµ­ê°€ì˜ ì´ìœ \n\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸ“Š 2) PRICE COMPARISON TABLE (ê°€ê²© ë¹„êµ)\n");
        sb.append("í”Œë«í¼ | KRW | JPY\n");
        sb.append("-------------------------\n");
        r.getPlatformPrices().forEach((p, info) -> {
            sb.append(p).append(" | ")
                    .append(info.getPriceKrw()).append(" KRW | ")
                    .append(info.getPriceJpy()).append(" JPY\n");
        });
        sb.append("\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸ“ˆ 3) COUNTRIES PROFIT SIMULATION (êµ­ê°€ë³„ ìˆœì´ìµ ë¹„êµ)\n");
        sb.append("ì•„ë˜ í•­ëª©ì„ ë°˜ë“œì‹œ í¬í•¨:\n");
        sb.append("- í•œêµ­ â†’ ì¼ë³¸ íŒë§¤ ì‹œ ì´ë¹„ìš©/ìˆœì´ìµ ê³„ì‚°\n");
        sb.append("- ì¼ë³¸ â†’ í•œêµ­ íŒë§¤ ì‹œ ì´ë¹„ìš©/ìˆœì´ìµ ê³„ì‚°\n");
        sb.append("- í•œêµ­ â†’ í•œêµ­ íŒë§¤ ìˆœì´ìµ\n");
        sb.append("- ì¼ë³¸ â†’ ì¼ë³¸ íŒë§¤ ìˆœì´ìµ\n");
        sb.append("- êµ­ê°€ë³„ ìˆœì´ìµì„ í‘œ í˜•íƒœë¡œ ë¹„êµ\n");
        sb.append("- ì–´ëŠ êµ­ê°€ íŒë§¤ê°€ ê°€ì¥ ì´ë“ì¸ì§€ ëª…í™•í•˜ê²Œ ê²°ë¡ \n\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸŒ 4) COUNTRY STRATEGY (êµ­ê°€ ì „ëµ)\n");
        sb.append("- í•œêµ­ íŒë§¤ ì¥ë‹¨ì \n");
        sb.append("- ì¼ë³¸ íŒë§¤ ì¥ë‹¨ì \n");
        sb.append("- í”Œë«í¼ ìˆ˜ìš”/ê²½ìŸë„ ë¶„ì„\n");
        sb.append("- ë¬¼ë¥˜/ë°°ì†¡ ìœ„í—˜ ìš”ì†Œ ë¶„ì„\n\n");

        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
        sb.append("ğŸ’° 5) FINAL RECOMMENDATION (ìµœì¢… ì „ëµ)\n");
        sb.append("- êµ¬ë§¤ ì¶”ì²œ í”Œë«í¼\n");
        sb.append("- íŒë§¤ ì¶”ì²œ êµ­ê°€\n");
        sb.append("- ì˜ˆìƒ ìˆœì´ìµ ë²”ìœ„\n");
        sb.append("- ìµœì¢… í•œ ë¬¸ì¥ ì „ëµ ìš”ì•½\n");
        sb.append("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");

        return sb.toString();
    }
}
